<div class="container-fluid">

<breadcrumb param="Integrações STAR X SEC"></breadcrumb>
<titulo param="Integrações STAR X SEC"></titulo>

	<div class="row-fluid">
		<div class="span3">
				<label for="NumCliente">Nº do Cliente</label> 
				<input type="text" class="span10" id="numCliente" ng-model="$ctrl.filtro.customerNumber" placeholder="Número do Cliente">
		</div>

		<div class="span3">
				<label for="canalAtendimento">Tipo Solicitação</label> 
				<select class="span10" id="comboTypeSolicitation" ng-model="$ctrl.filtro.requestType" ng-options="item.idSourceMessageType as item.descMessageType for item in $ctrl.listTypeSolicitation">
					<option value="">Selecione</option>
				</select>
		</div>

		<div class="span3">
				<label for="dtPrevisao">Período-Inicial</label>
				<input type="text" id="periodoInicial" class="span10" ng-model="$ctrl.filtro.initialDate"/>						
				<script type="text/javascript" charset="utf-8">
					readyFormAndInsertDatePickers('periodoInicial');
				</script>	
		</div> 


		<div class="span3">
				<label for="dtPrevisao">Período-Final</label>
				<input type="text" id="periodoFinal" class="span10" ng-model="$ctrl.filtro.finalDate"/>						
				<script type="text/javascript" charset="utf-8">
					readyFormAndInsertDatePickers('periodoFinal');
				</script>	
		</div>		
	</div>	
	
	<div class="row-fluid">
			<div class="span3">
				<label for="selectStatus">Status</label> 
				<select class="span10" id="selectStatus" ng-model="$ctrl.filtro.status" ng-options="item.nome as item.nome for item in $ctrl.statusSolicitation" id="comboStatus">
					<option value="">Selecione</option>
				</select>
			</div>
	</div>


	<div class="row-fluid">
		<div class="controls">
			<button type="button" class="btn btn-primary" ng-click="$ctrl.filtrar();">Pesquisar</button>
		</div>
	</div>
	
	</br>

	<table class="table table-bordered">
				<tr>
					<th>N do Cliente</th>
					<th>Data</th>
					<th>Status</th>
					<th>Código Erro</th>
					<th>Mensagem Erro</th>					
					<th>Tipo da Solicitação</th>
					<th>Última Atualização</th>
					<th>Usuário</th>
					<th>Baixar</th>
				</tr>
				<tr ng-repeat="e in $ctrl.listSolicitation" ng-click="$ctrl.showMessage(e.destinationMessageType, $index)" ng-class="{'rowSelected': $ctrl.selected == $index}">
					<td>{{e.customerNumber}}</td>
					<td>{{e.pendingDate | date:'dd/MM/yyyy HH:mm'}}</td>
					<td>{{e.status}}</td>
					<td>{{e.errorCode}}</td>
					<td>{{e.errorMessage}}</td>
					<td>{{e.sourceMessageType}}</td>
					<td>{{e.lastUpdate | date:'dd/MM/yyyy HH:mm'}}</td>
					<td>{{e.user}}</td>
					<td style="text-align:center;"><input type="radio" name="gender" value="{{e.user}}" ng-disabled="e.status != 'Erro'" ng-click="$ctrl.openModalConfirm(e, 'idRadio'+$index);" id="{{'idRadio'+$index}}"> </td>
				</tr>				
	</table>

	<div id="idModalConfirm" class="modal fade" role="dialog" style="display: none;">
		<div class="modal-dialog modal-sm">
			<!-- Modal content -->
			<div class="row-fluid" align="center">
				<fieldset>
					<legend> Deseja confirmar a operação ? </legend>
					<button id="btnConfirmModalBaixa" type="button" class="btn btn-primary" ng-click="$ctrl.efetuarBaixa();">
						Sim
					</button>
					<button id="btnNao" class="btn" type="button" ng-click="$ctrl.closeModalConfirm();">
						Não
					</button>
					<br />
				</fieldset>
			</div>
		</div>
	</div>

	<div class="row-fluid">
		<div class="span12">
			<label>Mensagem Destino (PARA)</label>
			<textarea class="span12" id="idMensagemDestinoPara"></textarea>
		</div>
	</div>
</div>